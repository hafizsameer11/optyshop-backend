# Configuration Guide

## ‚úÖ .env File Created Successfully!

Your `.env` file has been created with secure JWT secrets automatically generated. 

## üìù Required Configuration

### 1. Database Configuration

Update your MySQL database credentials:

```env
DB_HOST=localhost          # Usually 'localhost' for local development
DB_PORT=3306              # Default MySQL port
DB_NAME=optyshop          # Your database name (create this in MySQL)
DB_USER=root              # Your MySQL username
DB_PASSWORD=your_password # Your MySQL password
```

**Steps to set up MySQL database:**

1. Open MySQL command line or MySQL Workbench
2. Create the database:
   ```sql
   CREATE DATABASE optyshop;
   ```
3. Update `DB_PASSWORD` in `.env` with your MySQL root password (or create a dedicated user)

### 2. JWT Secrets ‚úÖ (Already Configured)

Secure JWT secrets have been automatically generated. **Do not change these** unless you have a specific reason.

```env
JWT_SECRET=<auto-generated>           # Access token secret
JWT_REFRESH_SECRET=<auto-generated>  # Refresh token secret
```

**‚ö†Ô∏è Important:** 
- Keep these secrets secure
- Never commit them to version control (already in `.gitignore`)
- In production, use even stronger secrets

### 3. AWS S3 Configuration (Optional)

Only configure if you plan to use file uploads (product images, 3D models, etc.)

#### Get AWS Credentials:

1. Go to [AWS Console](https://console.aws.amazon.com/)
2. Navigate to **IAM** ‚Üí **Users** ‚Üí Your User ‚Üí **Security Credentials**
3. Create an **Access Key** if you don't have one
4. Create an S3 bucket:
   - Go to **S3** ‚Üí **Create Bucket**
   - Name: `optyshop-uploads` (or your preferred name)
   - Region: Choose your region (e.g., `us-east-1`)
   - Set appropriate permissions

5. Update `.env`:
```env
AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
AWS_REGION=us-east-1
AWS_S3_BUCKET_NAME=optyshop-uploads
```

**Note:** If you're not using file uploads, you can leave these empty. The app will work without S3, but file upload features won't function.

### 4. Email Configuration (Optional)

Only configure if you plan to send emails (order confirmations, password resets, etc.)

#### Gmail Setup:

1. Enable "Less secure app access" or use an **App Password**:
   - Go to Google Account ‚Üí Security ‚Üí 2-Step Verification ‚Üí App Passwords
   - Generate an app password for "Mail"

2. Update `.env`:
```env
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your_email@gmail.com
EMAIL_PASSWORD=your_app_password
EMAIL_FROM=noreply@optyshop.com
```

**Note:** For production, consider using services like SendGrid, AWS SES, or Mailgun.

### 5. Payment Gateway Configuration (Optional)

Only configure if you plan to process payments.

#### Stripe Setup:

1. Sign up at [Stripe](https://stripe.com/)
2. Get your API keys from Dashboard ‚Üí Developers ‚Üí API Keys
3. Update `.env`:
```env
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
```

#### PayPal Setup:

1. Sign up at [PayPal Developer](https://developer.paypal.com/)
2. Create an app and get credentials
3. Update `.env`:
```env
PAYPAL_CLIENT_ID=your_client_id
PAYPAL_CLIENT_SECRET=your_client_secret
```

## üöÄ Quick Start Checklist

- [x] `.env` file created
- [x] JWT secrets generated
- [ ] MySQL database created
- [ ] Database credentials configured
- [ ] (Optional) AWS S3 configured
- [ ] (Optional) Email configured
- [ ] (Optional) Payment gateway configured

## üß™ Test Your Configuration

After configuring, test your setup:

```bash
# Start the server
npm run dev

# The server should connect to the database and start on port 5000
# Check: http://localhost:5000/health
```

## üîí Security Best Practices

1. **Never commit `.env` to version control** ‚úÖ (Already in `.gitignore`)
2. **Use strong passwords** for database and all services
3. **Rotate secrets regularly** in production
4. **Use environment-specific configs**:
   - `.env.development` for development
   - `.env.production` for production
   - `.env.test` for testing
5. **Restrict AWS IAM permissions** - Only grant necessary S3 permissions
6. **Use secrets management** in production (AWS Secrets Manager, Azure Key Vault, etc.)

## üìö Additional Resources

- [MySQL Installation Guide](https://dev.mysql.com/doc/refman/8.0/en/installing.html)
- [AWS S3 Setup Guide](https://docs.aws.amazon.com/s3/latest/userguide/create-bucket-overview.html)
- [Stripe API Documentation](https://stripe.com/docs/api)
- [PayPal Developer Guide](https://developer.paypal.com/docs/)

## ‚ùì Troubleshooting

### Database Connection Error
- Verify MySQL is running: `mysql -u root -p`
- Check database exists: `SHOW DATABASES;`
- Verify credentials in `.env`

### AWS S3 Upload Errors
- Verify IAM user has S3 permissions
- Check bucket name matches in `.env`
- Verify region is correct

### JWT Token Errors
- Ensure JWT secrets are set (should be auto-generated)
- Check token expiration settings

---

**Need help?** Check the main `README.md` or open an issue in the repository.

